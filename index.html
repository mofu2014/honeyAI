<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HoneyAI</title>
</head>
<body>

<h2>HoneyAI</h2>

<div id="chat"></div>

<input id="input" placeholder="メッセージ">
<button onclick="send()">送信</button>

<script>
async function send(){
  const input = document.getElementById("input");
  const chat = document.getElementById("chat");

  const text = input.value.trim();
  if(!text) return;

  chat.innerHTML += "<div>あなた: " + text + "</div>";
  input.value = "";

  const res = await fetch("/api/chat",{
    method:"POST",
    headers:{
      "Content-Type":"application/json"
    },
    body: JSON.stringify({
      message: text
    })
  });

  const data = await res.json();

  chat.innerHTML += "<div>AI: " + (data.reply || data.error) + "</div>";
}
</script>

</body>
</html>
